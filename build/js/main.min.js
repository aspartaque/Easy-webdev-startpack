$(document).ready(()=>{$(document).foundation()}),$(".mobile__menu").click((function(){$(".mobile__menu").toggleClass("mobile__menu-icon-active")}));var swiper=new Swiper(".mySwiper",{slidesPerView:"auto",centeredSlides:!0,pagination:{el:".swiper-pagination",type:"fraction"},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}),swiper1=new Swiper(".mySwiper-1",{freeMode:!1,navigation:{nextEl:"#swiper-button-thumbs-next",prevEl:"#swiper-button-thumbs-prev"},centeredSlides:!1,watchSlidesProgress:!0,slidesPerView:3}),swiper2=new Swiper(".mySwiper2",{thumbs:{swiper:swiper1}});$(".l-virtual__descr-open-btn").click((function(){$(".l-virtual__descr-container").toggleClass("l-virtual__descr-container-open"),$(".l-events__detail-image").css("background-size","100%"),$(".l-virtual__descr-open-btn").text("СКРЫТЬ ТЕКСТ")})),$(".open-text").click((function(){$(".l-collections-small-container").toggleClass("opened-text"),$(".open-text").text("Свернуть")}));var app=new Vue({el:"#app",data:()=>({dates:["28-01-2022","29-01-2022","30-01-2022"],times:[],currentDate:null,currentTime:null,event:{},tickets:[],cart:{},total:0,masks:{title:"MMM",weekdays:"WWW"},attrs:[{days:7,weeks:1}]}),mounted(){this.event={event_id:1001,address:"ул. Ленина 1"}},methods:{getTimes:function(t){this.currentTime=null,this.currentDate=t,this.times=["12:00","13:00"]},setTime:function(t){this.currentTime=t,this.tickets=this.getTickets(t)},getTickets:function(t){console.log(this.$refs.pages.pages),console.log("get API time:",t),this.$refs.pages.pages[0].days[5].label="222";let e={1:{id:1,name:"Взрослый",price:1e3,quantity:0},2:{id:2,name:"Детский",price:800,quantity:0}};if(this.cart[this.currentDate+this.currentTime])for(let t in this.cart[this.currentDate+this.currentTime].tickets)e[t].quantity=this.cart[this.currentDate+this.currentTime].tickets[t].quantity;return e},addTicket:function(t){if(t.quantity++,!this.cart[this.currentDate+this.currentTime]){const t={event_id:this.event.event_id,date:this.currentDate,time:this.currentTime,address:this.event.address,tickets:{}};this.cart[this.currentDate+this.currentTime]=t}this.cart[this.currentDate+this.currentTime].tickets[t.id]={...t},this.updateTotal()},removeTicket:function(t){console.log("remove ticket"),t.quantity>1?(t.quantity--,this.cart[this.currentDate+this.currentTime].tickets[t.id]={...t}):(1===t.quantity&&t.quantity--,delete this.cart[this.currentDate+this.currentTime].tickets[t.id],this.isEmpty(this.cart[this.currentDate+this.currentTime].tickets)&&delete this.cart[this.currentDate+this.currentTime]),this.updateTotal()},isEmpty:function(t){for(let e in t)return!1;return!0},updateTotal:function(){let t=0;for(const e in this.cart){let i=this.cart[e].tickets;for(const e in i){t+=i[e].price*i[e].quantity}}this.total=t},clearCart:function(){this.currentDate=null,this.currentTime=null,this.times=[],this.cart={},this.updateTotal()}}});
//# sourceMappingURL=../sourcemaps/main.min.js.map
