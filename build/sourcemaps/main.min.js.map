{"version":3,"sources":["01_main.js"],"names":["$","document","ready","foundation","click","toggleClass","swiper","Swiper","slidesPerView","centeredSlides","pagination","el","type","navigation","nextEl","prevEl","swiper1","freeMode","watchSlidesProgress","swiper2","thumbs","css","text","app","Vue","data","prices","date","hours","time","ticket","id","name","price","quantity","start","cart","items","currentTime","selected","totalQuantity","computed","[object Object]","this","forEach","item","total","tickets","reduce","acc","itemTotal","amount","count","methods","value","t","push","filter","currentTicket","console","log"],"mappings":"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","file":"../js/main.min.js","sourcesContent":["$(document).ready(() => {\r\n  $(document).foundation();\r\n});\r\n\r\n$('.mobile__menu').click(function() {\r\n  $('.mobile__menu').toggleClass('mobile__menu-icon-active');\r\n});\r\n\r\n/*slider*/\r\nvar swiper = new Swiper(\".mySwiper\", {\r\n  slidesPerView: \"auto\",\r\n  centeredSlides: true,\r\n  pagination: {\r\n    el: \".swiper-pagination\",\r\n    type: \"fraction\",\r\n  },\r\n  navigation: {\r\n    nextEl: \".swiper-button-next\",\r\n    prevEl: \".swiper-button-prev\",\r\n  },\r\n});\r\n\r\n/*slider with thumbs*/\r\nvar swiper1 = new Swiper(\".mySwiper-1\", {\r\n  freeMode: false,\r\n  navigation: {\r\n    nextEl: \"#swiper-button-thumbs-next\",\r\n    prevEl: \"#swiper-button-thumbs-prev\",\r\n  },\r\n  centeredSlides: false,\r\n  watchSlidesProgress: true,\r\n  slidesPerView: 3,\r\n});\r\nvar swiper2 = new Swiper(\".mySwiper2\", {\r\n  thumbs: {\r\n    swiper: swiper1,\r\n  },\r\n});\r\n\r\n/*section virtual text open*/\r\n$('.l-virtual__descr-open-btn').click(function() {\r\n  $('.l-virtual__descr-container').toggleClass('l-virtual__descr-container-open');\r\n  $('.l-events__detail-image').css('background-size', '100%');\r\n  $('.l-virtual__descr-open-btn').text('СКРЫТЬ ТЕКСТ');\r\n});\r\n/*section collections text open*/\r\n$('.open-text').click(function() {\r\n  $('.l-collections-small-container').toggleClass('opened-text');\r\n  $('.open-text').text('Свернуть');\r\n});\r\n\r\n\r\nvar app = new Vue({\r\n  el: '#app',\r\n  data: () => ({\r\n    // Страница Сделать пожертвование\r\n    prices: ['100', '300', '500', '1000'],\r\n    // Страница Оформление заказа\r\n    date: [], // тут данные с календаря\r\n    hours: [\r\n      {\r\n        time: '10:00'\r\n      },\r\n      {\r\n        time: '12:00'\r\n      },\r\n      {\r\n        time: '14:00'\r\n      },\r\n      {\r\n        time: '16:00'\r\n      },\r\n    ],\r\n    ticket: [\r\n      {\r\n        id: 1,\r\n        name: 'Взрослый',\r\n        price: 100,\r\n        quantity: 0,\r\n        start: '10:00'\r\n      },\r\n      {\r\n        id: 2,\r\n        name: 'Детский',\r\n        price: 50,\r\n        quantity: 0,\r\n        start: '10:00'\r\n      },\r\n      {\r\n        id: 3,\r\n        name: 'Группам',\r\n        price: 500,\r\n        quantity: 0,\r\n        start: '14:00'\r\n      },\r\n      {\r\n        id: 4,\r\n        name: 'ne pokazyvat',\r\n        price: 330,\r\n        quantity: 0,\r\n        // start: '10:00'\r\n      }\r\n    ],\r\n    cart: {\r\n      items: [\r\n        // {\r\n        //   date: [],\r\n        //   time: [],\r\n        //   tickets: [],\r\n        //   totalCount: [],\r\n        //   totalAmount: [],\r\n        // },\r\n      ],\r\n    },\r\n    currentTime: null,\r\n    selected: false,\r\n    totalQuantity: 0,\r\n  }),\r\n  // mounted: {\r\n  //   getHours() {\r\n  //     let currentHour = this.ticket.start;\r\n  //     return this.hours.filter(function (item) {\r\n  //       if (item.time == currentHour) {\r\n  //         console.log(item);\r\n  //         return item;\r\n  //       }\r\n  //     })\r\n  //   }\r\n  // },\r\n  computed: {\r\n    cartTotalAmount() {\r\n      this.cart.items.forEach(item => {\r\n        let total = 0;\r\n        total = item.tickets.reduce( (acc, itemTotal) => {\r\n            return acc + (itemTotal.quantity * itemTotal.price)\r\n        }, 0);\r\n        return item.amount = total;\r\n      });\r\n    },\r\n    cartTotalCount() {\r\n      this.cart.items.forEach(item => {\r\n        let totalQuantity = 0;\r\n        totalQuantity = item.tickets.reduce( (acc, itemTotal) => {\r\n            return acc + (itemTotal.quantity)\r\n        }, 0);\r\n        item.count = totalQuantity;\r\n        return totalQuantity;\r\n      });\r\n    },\r\n    // clearCartTime() {\r\n    //   this.cart.items.forEach(item => {\r\n    //     if (item.tickets.length == 0) {\r\n    //       item = item.filter((currentTicket) => currentTicket.id !== currentTicket.id);\r\n    //     }\r\n    //   })\r\n    // },\r\n    // getTickets() {\r\n    //   let time = this.cart.currentTime;\r\n    //   return this.ticket.filter(function (currentList) {\r\n    //     if (currentList.start == time) {\r\n    //       return currentList;\r\n    //     }\r\n    //   });\r\n    // },\r\n    // pushTime() {\r\n    //   let data = {\r\n    //     date: null,\r\n    //     time: this.cart.currentTime,\r\n    //     count: null,\r\n    //     amount: null,\r\n    //     tickets: [],\r\n    //   };\r\n    //   this.cart.reduce( (item) => {\r\n    //     return item.items.push (data); //пушится дважды - исправить\r\n    //   }, 0);\r\n    // }\r\n  },\r\n  methods: {\r\n    addTime(value) {\r\n      let t = value;\r\n      this.currentTime = t.time;\r\n      this.selected = this.currentTime;\r\n    },\r\n    addTicket(id) {\r\n      let data = {\r\n        date: null,\r\n        time: this.currentTime,\r\n        count: null,\r\n        amount: null,\r\n        tickets: [],\r\n      };\r\n      this.cart.items.push (data); //пушится дважды - исправить\r\n      this.cart.items.forEach(item => {\r\n        if (!item.tickets[id]) {\r\n          let tickets = {\r\n            id: this.ticket[id].id,\r\n            name: this.ticket[id].name,\r\n            price: this.ticket[id].price,\r\n            quantity: this.ticket[id].quantity,\r\n            start: this.ticket[id].start,\r\n          };\r\n          item.tickets.push (tickets);\r\n        }\r\n        this.totalQuantity = item.tickets[id].quantity += 1;\r\n      });\r\n    },\r\n    deleteTicket(id) {\r\n      this.cart.items.forEach(item => {\r\n        if (item.tickets[id].quantity > 0) {\r\n          this.totalQuantity = item.tickets[id].quantity -= 1;\r\n        }\r\n        if (item.tickets[id].quantity < 1) {\r\n          item.tickets = item.tickets.filter((currentTicket) => currentTicket.id !== currentTicket.id);\r\n          console.log('da');\r\n        }\r\n      })\r\n    }\r\n  },\r\n})"]}